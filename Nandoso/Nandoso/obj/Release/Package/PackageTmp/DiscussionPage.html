<!DOCTYPE html>
<html>
<head>
    <title>Discussion: Chicken vs Vege Pita</title>
    <script src="Scripts/jquery-1.9.1.min.js"></script>
    <script src="Scripts/bootstrap.min.js"></script>
    <link href="Content/bootstrap.min.css" rel="stylesheet" />
    <link href="Content/style.css" rel="stylesheet" />
    <!-- Include the fakeLoader.css
    <link rel="stylesheet" type="text/css" href="css/fakeLoader.css">    -->
    <script src="Scripts/index.js"></script>
    <script src="Scripts/SpecialsModule.js"></script>
    <meta charset="utf-8" />
    <meta charset="utf-8" />
    <title>SignalR Simple Chat</title>
    <style type="text/css">
        .container {
            background-color: #FF751A;
            border: thick solid #808080;
            padding: 20px;
            margin: 20px;
        }
    </style>
    <script type="text/javascript">
        var appInsights=window.appInsights||function(config){
            function r(config){t[config]=function(){var i=arguments;t.queue.push(function(){t[config].apply(t,i)})}}var t={config:config},u=document,e=window,o="script",s=u.createElement(o),i,f;for(s.src=config.url||"//az416426.vo.msecnd.net/scripts/a/ai.0.js",u.getElementsByTagName(o)[0].parentNode.appendChild(s),t.cookie=u.cookie,t.queue=[],i=["Event","Exception","Metric","PageView","Trace"];i.length;)r("track"+i.pop());return r("setAuthenticatedUserContext"),r("clearAuthenticatedUserContext"),config.disableExceptionTracking||(i="onerror",r("_"+i),f=e[i],e[i]=function(config,r,u,e,o){var s=f&&f(config,r,u,e,o);return s!==!0&&t["_"+i](config,r,u,e,o),s}),t
        }({
            instrumentationKey:"ae57c2d0-984b-4fb3-9850-41de4f0e85ab"
        });

        window.appInsights=appInsights;
        appInsights.trackPageView();
    </script>

</head>
<body>
    <header>
        <nav class="navbar navbar-inverse">
            <div class="container-fluid">
                <div class="navbar-header">
                    <a class="navbar-brand" href="#">Nandoso - Discussion: Chicken vs Vege Pita</a>
                    <button onclick="window.location='/index.html'">Home</button>
                    <button onclick="window.location='/SpecialPage.html'">Specials</button>
                    <button onclick="window.location='/FeedbackPage.html'">Feedback</button>
                    <button onclick="window.location='/DiscussionPage.html'">Chat Discussion</button>
                </div>
            </div>
        </nav>
    </header>
    <p>
        We want to know what you think of our chicken and vege pitas:<br />
        Is one better than the other??<br />
        Join the live chat below and share your thoughts!<br />
    </p> 
    <img src="http://i843.photobucket.com/albums/zz355/silvergrandeur/IMG_0232.jpg" 
         alt="nomnom">
    <div class="container">
        <input type="text" id="message" />
        <input type="button" id="sendmessage" value="Send" />
        <input type="hidden" id="displayname" />
        <ul id="discussion"></ul>
    </div>
    <!--Script references. -->
    <!--Reference the jQuery library. -->
    <script src="Scripts/jquery-1.10.2.min.js"></script>
    <!--Reference the SignalR library. -->
    <script src="Scripts/jquery.signalR-2.2.0.min.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="signalr/hubs"></script>
    <!--Add script to update the page and send messages.-->
    <script type="text/javascript">
        $(function () {
            // Declare a proxy to reference the hub.
            var chat = $.connection.chatHub;
            // Create a function that the hub can call to broadcast messages.
            chat.client.broadcastMessage = function (name, message) {
                // Html encode display name and message.
                var encodedName = $('<div />').text(name).html();
                var encodedMsg = $('<div />').text(message).html();
                // Add the message to the page.
                $('#discussion').append('<li><strong>' + encodedName
                    + '</strong>:&nbsp;&nbsp;' + encodedMsg + '</li>');
            };
            // Get the user name and store it to prepend to messages.
            $('#displayname').val(prompt('Enter your name:', ''));
            // Set initial focus to message input box.
            $('#message').focus();
            // Start the connection.
            $.connection.hub.start().done(function () {
                $('#sendmessage').click(function () {
                    // Call the Send method on the hub.
                    chat.server.send($('#displayname').val(), $('#message').val());
                    // Clear text box and reset focus for next comment.
                    $('#message').val('').focus();
                });
            });
        });
    </script>
</body>
</html>
